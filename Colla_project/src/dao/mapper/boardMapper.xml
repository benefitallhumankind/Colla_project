<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dao.BoardDao">
	
	<select id="selectAllBoardByWnum" parameterType="int" resultMap="boardMap">
		select b_num, m_name, w_num, b_title, b_content, b_regdate, b_readCnt
		from board b, member m
		where b.w_num = #{num} and m.m_num=b.m_num
		order by b_regdate desc
	</select>
	
	<insert id="insertDefaultBoard" parameterType="board">
		insert into board
		values(
				b_seq.nextval, 
				#{mNum}, 
				#{wNum}, 
				#{bTitle}, 
				#{bContent}, 
				sysdate, 
				0
			)
	</insert>
	
	<resultMap type="board" id="boardMap" >
		<result column="b_num" property="bNum"/>
		<result column="m_num" property="mNum"/>
		<result column="m_name" property="mName"/>
		<result column="w_num" property="wNum"/>
		<result column="b_title" property="bTitle"/>
		<result column="b_content" property="bContent"/>
		<result column="b_regdate" property="bRegDate"/>
		<result column="b_readCnt" property="readCnt"/>
	</resultMap>
	
</mapper>