<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="dao.BoardDao">
	<insert id="insertBoard" parameterType="board">
		insert into test_board values (
			test_board_seq.nextval,
			#{title},
			#{content},
			#{mNum},
			#{regDate},
			0
		)
	</insert>
	<update id="updateBoard" parameterType="board">
		update test_board set 
		b_title = #{title},
		b_content = #{content}
		where b_num = #{num}
	</update>
	<select id="selectOneBoard" parameterType="int" resultMap="boardMap">
		select b_num, b_title, b_content, m_num, b_reg_date, read_count
		from test_board
		where b_num = #{num}
	</select>
	
	<select id="selectAllBoard" resultMap="boardMap">
		select * from test_board
	</select>
	<delete id="deleteBoard" parameterType="int">
		delete from test_board where b_num = #{num}
	</delete>
	
	<resultMap type="board" id="boardMap">
		<result column="b_num" property="num"/>
		<result column="b_title" property="title"/>
		<result column="b_content" property="content"/>
		<result column="m_num" property="mNum"/>
		<result column="b_reg_date" property="regDate"/>
		<result column="read_count" property="readCount"/>
	</resultMap>
	
</mapper>